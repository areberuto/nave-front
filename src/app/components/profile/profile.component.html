<div class="row">
    <div class="col-10 mx-auto my-4" id="profile" style="background-color: white; border: 1px solid red;">
        <h3 class="card-title text-center py-4">Datos personales
        </h3>
        <div class="card row d-flex flex-md-row p-4" *ngIf="investigador">

            <div class="col-6 mx-auto py-2 col-lg-4">
                <img class="card-img-top mx-auto" src="assets/photo.png" alt="Profile picture">
            </div>
            <div class="card-body col-12 col-lg-8 pt-md-0">
                <div class="card-text">
                    <form #datosForm="ngForm" id="formulario">
                        <div class="col py-2 mx-auto text-left">
                            <div class="row">
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="nombre">üÜî ‚ûñ Tu nombre</label>
                                    <input class="form-control" [(ngModel)]="investigador.nombre" type="text"
                                        name="nombre" id="nombre" required #nombre="ngModel"><br>
                                    <div [hidden]="nombre.valid || nombre.pristine" class="alert alert-danger">Por
                                        favor,
                                        introduce un nombre.
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="correo">üìß ‚ûñ E-mail</label>
                                    <input class="form-control" [(ngModel)]="investigador.correo" type="text"
                                        name="correo" id="correo" #correo="ngModel" required><br>
                                    <div [hidden]="correo.valid || correo.pristine" class="alert alert-danger">Por
                                        favor,
                                        introduce un correo
                                        v√°lido.</div>
                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="apellido1">üÜî ‚ûñ Primer apellido</label>
                                    <input class="form-control" [(ngModel)]="investigador.apellido1" type="text"
                                        name="apellido1" id="apellido1" required #apellido1="ngModel"><br>
                                    <div [hidden]="apellido1.valid || apellido1.pristine" class="alert alert-danger">Por
                                        favor,
                                        introduce tu
                                        primer apellido.</div>
                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="apellido2">üÜî ‚ûñ Segundo apellido</label>
                                    <input class="form-control" [(ngModel)]="investigador.apellido2" type="text"
                                        name="apellido2" id="apellido2" required #apellido2="ngModel"><br>
                                    <div [hidden]="apellido2.valid || apellido2.pristine" class="alert alert-danger">Por
                                        favor,
                                        introduce tu
                                        segundo apellido.</div>
                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="organismo">üåê ‚ûñ Organismo</label>
                                    <input class="form-control" [(ngModel)]="investigador.organismo" type="text"
                                        name="organismo" id="organismo" required #organismo="ngModel"><br>
                                    <div [hidden]="organismo.valid || organismo.pristine" class="alert alert-danger">Por
                                        favor,
                                        introduce un
                                        organismo.</div>

                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="genero">üë®‚Äçüî¨üë©‚Äçüî¨ ‚ûñ G√©nero</label>
                                    <select class="form-control" [(ngModel)]="investigador.genero" name="genero"
                                        id="genero" #genero="ngModel" [value]="'hombre'" required>
                                        <option [value]="'hombre'">Hombre</option>
                                        <option [value]="'mujer'">Mujer</option>
                                    </select><br>
                                    <div [hidden]="genero.valid || genero.pristine" class="alert alert-danger">Por
                                        favor,
                                        selecciona tu g√©nero.</div>
                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="ciudad">üèô ‚ûñ Ciudad</label>
                                    <input class="form-control" [(ngModel)]="investigador.ciudad" type="text"
                                        name="ciudad" id="ciudad" #ciudad="ngModel" required><br>
                                    <div [hidden]="ciudad.valid || ciudad.pristine" class="alert alert-danger">Por
                                        favor,
                                        introduce una ciudad
                                        v√°lida.</div>
                                </div>
                                <div class="col-12 col-lg-6 mx-auto">
                                    <label for="pais">üåç ‚ûñ Pa√≠s</label>
                                    <input class="form-control" [(ngModel)]="investigador.pais" type="text" name="pais"
                                        id="pais" required #pais="ngModel"><br>
                                    <div [hidden]="pais.valid || pais.pristine" class="alert alert-danger">Por favor,
                                        introduce
                                        un pa√≠s v√°lido.
                                    </div>
                                </div>
                            </div>

                            <input class="btn btn-info w-100" id="submit" type="submit" [disabled]="!datosForm.valid"
                                value="Modificar datos"><br><br>

                            <button (click)="mostrarAviso = !mostrarAviso" class="btn btn-danger w-100">Borrar
                                cuenta</button>
                            <br><br>
                            <div [hidden]="!mostrarAviso" id="aviso" class="p-4">

                                <p>¬°Atenci√≥n! El borrado de tu cuenta, adem√°s de borrar tus fen√≥menos reportados, ser√°
                                    irreversible.</p>
                                <p>Para proceder, introduce tu contrase√±a.</p>

                                <form #claveForm="ngForm" (ngSubmit)="deleteInv()">
                                    <input class="form-control w-50" type="password" [(ngModel)]="claveDel" name="claveDel" minlength="6" required><br>
                                    <input [disabled]="!claveForm.valid" class="btn btn-danger w-50" type="submit" value="Confirmar borrado"><br><br>
                                </form>
                                
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="reported col-10 mx-auto my-4">
        <h3>
            Tus fen√≥menos
        </h3>
    </div>
    <div class="col-lg-10 mx-lg-auto">
        <div *ngFor="let fenomeno of fenomenos" class="fenomeno">
            <div class="card px-4">
                <div class="card-body">
                    <h4 class="card-title">{{fenomeno.titulo}}</h4>
                    <p class="card-text">{{fenomeno.descripcionCorta}}</p>
                    <div class="row">
                        <div class="mapContainer col-md-4 my-4 my-md-0 mx-auto">
                            <app-mapa [idFen]="fenomeno.id" [latitud]="fenomeno.latitud" [longitud]="fenomeno.longitud">
                            </app-mapa>
                        </div>
                        <div class="col-md-8">
                            <p>üåé {{fenomeno.ciudad}}, {{fenomeno.pais}} ‚ûñ üìÖ {{fenomeno.fecha}}</p>
                            <p>{{fenomeno.contenido}}</p>
                        </div>
                    </div>

                    <div id="autor" class="row mt-4">
                        <p class="col-12 mb-2">üîé {{fenomeno.nombreInvestigador}} {{fenomeno.apellidoInv1}}
                            {{fenomeno.apellidoInv2}} ‚ûñ üìÇ {{fenomeno.categoria}}</p>
                        <div *ngIf="investigador && (investigador.id == fenomeno.investigadorId)" class="col-12">
                            <div class="row justify-content-start" id="actionButtons">
                                <button class="col-md-2 btn btn-warning mx-1 my-2"
                                    routerLink="/modFenomeno/{{fenomeno.id}}">Modificar</button>
                                <button class="col-md-2 btn btn-danger mx-1 my-2"
                                    (click)="deleteFenomeno(fenomeno.id)">Borrar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>